<div class="container-fluid">
    <form [formGroup]="form" novalidate autocomplete="off" (ngSubmit)="createPolicy(form.value)">
      <div class="form-horizontal well">

        <div class="form-group">
          <label for="policyNumber" class="control-label col-md-2">{{ 'policy.policynumber' | translate }}: </label>
          <div class="col-md-5">
            <input type="text" formControlName="policyNumber" id="policyNumber" class="form-control" maxlength="12"  autofocus="true"  />
          </div>
          <div class="col-md-5">
            <em *ngIf="validateControl('policyNumber') && hasError('policyNumber', 'required')">{{ 'validation.required' | translate }}</em>
            <em *ngIf="validateControl('policyNumber') && hasError('policyNumber', 'maxlength')">{{ 'validation.max12' | translate }}</em>
          </div>
        </div>

        <div class="form-group">
          <label for="name" class="control-label col-md-2">{{ 'policy.name' | translate }}: </label>
          <div class="col-md-5">
            <input type="text" formControlName="name" id="name" class="form-control" maxlength="60" />
          </div>
          <div class="col-md-5">
            <em *ngIf="validateControl('name') && hasError('name', 'required')">{{ 'validation.required' | translate }}</em>
            <em *ngIf="validateControl('name') && hasError('name', 'maxlength')">{{ 'validation.max60' | translate }}</em>
          </div>
        </div>

        <div class="form-group">
          <label for="age" class="control-label col-md-2">{{ 'policy.age' | translate }}: </label>
          <div class="col-md-5">
            <input type="text" formControlName="age" id="age" class="form-control" maxlength="3" />
          </div>
          <div class="col-md-5">
            <em *ngIf="validateControl('age') && hasError('age', 'required')">{{ 'validation.required' | translate }}</em>
            <em *ngIf="validateControl('age') && hasError('age', 'pattern')">{{ 'validation.format' | translate }}</em>
          </div>
        </div>

        <div class="form-group">
          <label for="gender" class="control-label col-md-2">{{ 'policy.gender' | translate }}: </label>
          <div class="col-md-5">
            <select id="gender"  formControlName="gender" class='form-control' (change)="selectOption($event.target.value); ">
              <option style="display:none" value="">{{'comboSelection' | translate }}</option>
              <option class='option' *ngFor='let gender of genders' [value]="gender.value">{{gender.name | translate }}</option>
            </select>
          </div>
          <div class="col-md-5">
          </div>
        </div>

        <br><br>

        <div class="form-group">
          <div class="col-md-offset-5 col-md-1">
            <button type="submit" class="btn btn-info" [disabled]="!form.valid">{{ 'button.update' | translate }}</button>
          </div>
          <div class="col-md-1">
            <button type="button" class="btn btn-danger" (click)="redirectToPolicyList()">{{ 'button.cancel' | translate }}</button>
          </div>
        </div>

      </div>
    </form>

    <app-error-modal [modalHeaderText]="'Error message'"
    [modalBodyText]="errorMessage" [okButtonText]="'OK'"></app-error-modal>

  </div>
